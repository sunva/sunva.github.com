<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>哈哈！终于！高兴！</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
  <h1 id="canUsee">看到了吗？</h1>
  <input id="searchPic" type="button" value="查图片" />
  <img id="pic" src="" style="display:none;"/>
	<script src="//cdn.bootcss.com/jquery/3.0.0-alpha1/jquery.min.js"></script>
  	<script src="javascripts/bmob-min.js"></script>
    <script src="javascripts/scale.fix.js"></script>
<script>
$(function(){
	Bmob.initialize("0f098d481f8277cf4cc21648a922bcc9", "524950fa929186f291ebbd4c2fe588e7");
	
	var GameScore = Bmob.Object.extend("GameScore");
	var Answer = Bmob.Object.extend("Answer");
	
	function addtoDB(){
		var gameScore = new GameScore();
		gameScore.set("score", 1337);
		gameScore.save(null, {
		  success: function(object) {
			$("#canUsee").html("Connect Bmob success");
			//alert("create object success, object id:"+object.id);
		  },
		  error: function(model, error) {
			$("#canUsee").html("Connect Bmob error");
			//alert("create object fail");
		  }
		});
	}
	
	function updateDB(){
		var query = new Bmob.Query(GameScore);
		query.get("6a88575e42", {
		  success: function(object) {
			alert(object.get("score"));
			// The object was retrieved successfully.
			object.set("score", 1338);
			object.save(null, {
			  success: function(objectUpdate) {
				alert("create object success, object score:"+objectUpdate.get("score"));
			  },
			  error: function(model, error) {
				alert("create object fail");
			  }
			});
		  },
		  error: function(object, error) {
			alert("query object fail");
		  }
		});
	}
	
	function queryDB(){
		var query = new Bmob.Query(Answer);
		query.get("XmP1RRRV", {
		  success: function(object) {
			console.log(object.get("image")._url);
			$("#pic").attr("src",object.get("image")._url).show();
		  },
		  error: function(object, error) {
			alert("query object fail");
		  }
		});
	}
	
	$("#searchPic").click(function(e) {
		queryDB();
	});
});
</script>
  </body>
</html>
